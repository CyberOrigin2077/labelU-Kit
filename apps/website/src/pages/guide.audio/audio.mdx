import { Annotator } from '@labelu/audio-annotator-react';
import { Kbd } from '@labelu/components-react';

# 音频

如果你希望查看 API，请访问：[Audio Annotator API](https://github.com/opendatalab/labelU-Kit/blob/41539439ca1c6bf551386053c174df6b30512f8c/packages/audio-annotator-react/readme.md#L3)

## 安装

```bash
npm install @labelu/audio-annotator-react
```

## 使用

{/* TODO */}
[![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/opendatalab/labelU-Kit/tree/website/packages/audio-annotator-react/example)

```tsx
import React from 'react';
import Annotator from '@labelu/audio-annotator-react';

const [editType, setEditType] = useState('segment');

const samples = [
  {
    id: 'sample-12s',
    url: 'https://samplelib.com/lib/preview/mp3/sample-12s.mp3',
    name: 'sample-12s.mp3',
    annotations: [
      {
        id: '1',
        start: 6.087957,
        end: 11.533612,
        label: 'vehicle',
        type: 'segment',
        order: 1,
      },
    ],
  },
];

const annotatorConfig = {
  // Global attributes, Available for segment and frame
  attributes: [
    {
      color: '#f8e8',
      key: 'Humanbeing',
      value: 'humanbeing',
    },
  ],
  segment: {
    type: 'segment',
    attributes: [
      {
        color: '#ff6600',
        key: 'Vehicle',
        value: 'vehicle',
        attributes: [
          {
            key: 'Color',
            value: 'color',
            type: 'string',
            maxLength: 1000,
            required: true,
            stringType: 'text' as const,
            defaultValue: '',
            regexp: '',
          },
          {
            key: 'Category',
            value: 'category',
            type: 'enum',
            required: true,
            options: [
              {
                key: 'Truck',
                value: 'truck',
              },
              {
                key: 'Mini Van',
                value: 'mini-van',
              },
              {
                key: 'Sedan',
                value: 'sedan',
              },
            ],
          },
        ],
      },
      {
        color: '#ae3688',
        key: 'Boat',
        value: 'boat',
        attributes: [
          {
            key: 'Contoury',
            value: 'contoury',
            type: 'enum',
            options: [
              {
                key: 'USA',
                value: 'usa',
              },
              {
                key: 'China',
                value: 'china',
              },
              {
                key: 'Japan',
                value: 'japan',
              },
            ],
          },
        ],
      },
    ],
  },
};


<Annotator
  samples={samples}
  type={editType}
  config={annotatorConfig}
/>

```

